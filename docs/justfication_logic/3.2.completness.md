### 3.2 完全性

**Stage 1.** Let $\mathcal{G_1}$ be the collection of all MCS of formulas. For each $\Gamma\in\mathcal{G_1}$, let $\Gamma^{\#} = \{ F \ |\ \Box F\in \Gamma \}$ and $\Gamma^{\circ} = \{ F\ |\ t:F\in\Gamma\text{ for some justification term }t \}$. Let $\Gamma\mathcal{R_1}\Delta$ if $\Gamma^{\#}\subseteq\Delta$ and $\Gamma^{\circ}\subseteq\Delta$. The valuation satisfy the frame, that is for for each propositional letter $P$(including nominals), set $\mathcal{V_1}(P) = \{ \Gamma\in\mathcal{G_1}\ |\ P\in\Gamma \}$. And finally, set $\mathcal{E_1}(t,F) = \{\Gamma\in\mathcal{G_1}\ |\ t:F\in\Gamma\}$. Thus let $\mathcal{M_1} = (\mathcal{G_1},\mathcal{R_1},\mathcal{V_1},\mathcal{E_1})$.

**Stage 2.** Suppose that we have a maximally consistent set $\Sigma$ entend a consistet set $S$. For each nominal $i$, let $\Delta_i = \{ F\ |\ @_iF\in\Sigma \}$. Let $\mathcal{M}_2$ be the submodel of $\mathcal{M}_1$ generated by $\Sigma\cup\{ \Delta_i\ |\ i\in \mathbf{NOM}\}$.

**Truth Lemma.** For any $\Gamma\in\mathcal{G_2}$ and any formula $F$, we have $\mathcal{M_2},\Gamma\vDash F$ if and only if $F\in\Gamma$.

**Proof.** We proof bu induction on the complexity of $F$.

**Propositional Case.** By defination of valuation and the property of MCS.<br>
**@ Case.** $\mathcal{M_2},\Gamma\vDash @_iF\Leftrightarrow\mathcal{M_2},\Delta_i\vDash F$. By the induction hypothesis, this is equivalent to $F\in\Delta_i$ thus $@_iF\in\Gamma$.<br>
**Modal Case.** The left to right direction is immediate from the definition of $\mathcal{R_2}$
$$\begin{align*}
    \mathcal{M_2},\Gamma\vDash\Box F & \text{ iff }\forall\Delta(\Gamma\mathcal{R_2}\Delta\rightarrow\mathcal{M_2},\Delta\vDash F)\\
    & \text{ iff }\forall\Delta(\Gamma\mathcal{R_2}\Delta\rightarrow F\in\Delta)\quad\text{(Induction Hypothesis)}\\
    & \text{ iff }\Box F\in\Gamma\text{ or }t:F\in\Gamma\text{ for some justification term }t\quad(\text{Definition }\mathcal{R_2})\\  
    & \text{ only if }\Box F\in\Gamma\quad\text{(connection)}
\end{align*}$$
For the right to left direction, suppose that $\Box F\in\Gamma$, <br>
**Justification term Case.** Suppose that $t:F\in\Gamma$, then by defination of $\mathcal{E_2}$, $\Gamma\in\mathcal{E_2}(t,F)$. 
$$\begin{align*}
    t:F\in\Gamma & \Rightarrow \Box F\in\Gamma\quad\text{(connection)}\\
    &\Rightarrow\forall\Delta(\Gamma\mathcal{R_2}\Delta\rightarrow F\in\Delta)\quad(\text{Definition }\mathcal{R_2})\\
    &\Leftrightarrow\forall\Delta(\Gamma\mathcal{R_2}\Delta\rightarrow \mathcal{M_2},\Delta\vDash F)\quad\text{(Induction Hypothesis)}\\
\end{align*}$$
Thus $\forall\Delta(\Gamma\mathcal{R_2}\Delta\rightarrow \mathcal{M_2},\Delta\vDash F)$ and $\Gamma\in\mathcal{E_2}(t,F)$ is the defination of $\mathcal{M_2},\Gamma\vDash t:F$. In the other direction, If $t:F\notin\Gamma$, then $\Gamma\notin\mathcal{E_2}(t,F)$ and $\mathcal{M_2},\Gamma\not\vDash t:F$.

