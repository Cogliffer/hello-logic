<!-- 联结词强度：$(),:,\neg,@_i,\land,\lor,\rightarrow$ -->
<!-- $F,M$是公式，$p$是命题符号 -->

一方面我觉得内容有些多，需要提前大致浏览一下，另一方面，我觉得可读性还可以

## 1.Introduction

Gödel 最早洞察到了使用模态逻辑$\mathbf{S4}$为证明建模的可能性[Gödel,1933]，后来 Sergei Artemov 提出了第一个 justification 逻辑$\mathbf{LP}$将这一想法实现出来[S.N. Artemov,2001]，这些工作中证明和可证性的讨论多在皮亚诺算数中。而本文的出发点是用关系模型建模公理系统（尤其是模态逻辑公理系统）之间的关系，刻画公理系统上证明具有的性质，本文称之为证明语义[需要找参考文献]，并提出了语义完备的公理系统$\text{hybrid-}\mathbf{LPS4_f}$，最后也探讨了这个系统的认知语义和皮亚诺算数语义。

证明语义要讨论公理系统，为了表达的清晰，我们用系统指语义中的公理系统，用公理系统特指语境中当前逻辑的公理系统。在证明语义中，一个可能世界是一个由语言、公理和规则定义的系统，所以一个可能世界也能解释为一个系统中所有有效公式（真理）的集合。一个系统能够通达另一个系统，如果这个系统是另一个系统的子系统或子集。系统中的公式用命题符号表达，赋值函数将所有公式映射到一些系统中（这些系统的语言中要有这个公式），我们称赋值满足一个系统，如果这个系统中的所有真理在这个系统上都为真，我们要求赋值满足模型中的所有系统。先从基础的$\mathbf{S4}$出发，我们用标准的命题模态逻辑语言：
<!-- 接下来给出两种扩展$\mathbf{S4}$的语言与公理系统的方法。一方面，加入混合算子，用dual-back公理来刻画：系统上为真的公式，能用公理系统证明系统上为真的公式。在[Fitting,2010]中，作者给出 hybrid-$\mathsf{T}$的 justification 对应 basic hybrid-$\mathsf{JT}$，并证明了内化定理。内化定理在证明语义中解释为，如果一个公式在一个系统上为真，那么存在这个公式在这个系统上为真的证明。另一方面，$\mathbf{LP}$和$\mathbf{GL}$是可证性逻辑的两个不相容的公理系统，是对[Gödel,1933]中两个问题十分不同的回答。可证性逻辑$\mathbf{LP}$是第一个 justification 逻辑，在[S.N. Artemov, E. Nogina,2004]中，作者给出$\mathbf{LPS4}$和$\mathbf{LPGL}$的算数语义与 Kripke 模型。在$\mathbf{LP}$中，项多项式能够准确的刻画证明的结构。综合这两方面，在证明语义中，混合算子能够将系统中的事实 -->
$$\begin{align*}
    F::=P\ |\ \neg F\ |\ F\rightarrow F\ |\ \Box F
\end{align*}$$
在一个系统$\Gamma$上可证公式$F$，在证明语义中解释为$F$在所有含有$\Gamma$的系统上都为真。$K$公理解释为，如果在一个系统上可证$F\rightarrow M$，并且可证$F$，那么这个系统上可证$M$。框架上，$T$公理表达自反性，即任何系统都是其自身的子系统，$T$公理解释为如果在一个系统上$F$可证，那么$F$在这个系统上为真。$4$公理表达传递性，即任何系统都含有其子系统的子系统，$4$公理解释为如果在一个系统上$F$可证，那么在含有这个系统的系统上$F$也可证。

当谈论一个系统的可证概念时，一般指的是一个公式集合用这个系统上的公理和规则能够推出的公式（定理），特殊的当公式集合为空集时，指的是只用这个系统中的公理和规则能够推出的公式（真理）。而在我们的证明语义中，由于将系统中的定理命题化了，一个系统上可证的公式并不仅仅是系统中的公式，更多的是表达系统之间的关系，这意味着系统上的可证并不是指系统中的可证。同时这意味着我们的逻辑是上层逻辑，当给出一个下层逻辑，我们的公式将能够具体的表达出来，而不是用命题符号抽象的表示，从而也能够推理下层逻辑更具体的可证公式了。
在系统中的公式都是可证的。这由$\text{fact checker}$公理捕获。
$$\begin{align*}
    (\text{fact checker})  \qquad  P\rightarrow\Box P
\end{align*}$$
$\mathbf{S4_f}=\mathbf{S4}+\text{fact checker}$
在语言中加入混合算子能够内化满足关系，其中$dual-back$公理
$$\begin{align*}
    (dual-back)  \qquad  @_iF\rightarrow\Box @_iF
\end{align*}$$
在[Fitting,2010]中作者在$\text{hybrid-}\mathbf{J_T}$中引入$\text{remote fact checker}$公理，可以视作$dual-back$公理的基础实现，并不是所有公式都存在证明，但是我们的内化定理表明的确存在，但是不能作为公理。
$$\begin{align*}
    (\text{remote fact checker})\qquad @_i P \rightarrow f_i:@_i P \\
    @_i\neg P\rightarrow f_i:@_i\neg P \\
    (\text{close fact checker})\qquad @_iP\rightarrow @_i f_i:P
\end{align*}$$

内化定理

$\text{close fact checker}$公理是$\text{fact checker}$公理的实现。

在[Sergei Artemov, Elena Nogina,2004]中作者在$\mathbf{LPGL}$和$\mathbf{LPS4}$中将可证和存在证明构成一个系统。并且给出了算数语义和证明语义。建立起可证和存在证明之间关系的是$\text{connection}$公理
$$\begin{align*}
    (\text{connection})\qquad t:F\rightarrow \Box F \\
\end{align*}$$
其次是一些反思公理
$$\begin{align*}
    & (\text{explicit positive introspection}) & t:F\rightarrow !t:t:F \\
    & (\text{weak negative introspection}) & \neg t:F\rightarrow \Box\neg t:F \\
    & (\text{remote positive justification checker}) & @_it:F\rightarrow(!_it):@_it:F\\
    & (\text{remote negative justification checker}) & @_i\neg t:F\rightarrow(?_i\neg t):@_i\neg t:F \\ 
\end{align*}$$


区分可证和存在证明
系统中的可证，系统上的可证。
区分内部证明和外部证明

我们希望的“可证”应该指在一个系统中，能够用这个系统中的公理和规则证明的公式。“可证”具有单调性，即如果在一个系统中可证，那么在含有这个系统的系统的中也可证。每个系统是自身的子系统。我们将系统中的可证抽象为系统上的可证，只保留可证具有的性质。或者说关系模型刻画的是可证的性质。 因为公理系统中的定理都是可证的，所以加入公理$P\rightarrow\Box P$。所以我们的系统具有内部可证和外部可证的区别。
其次，对于可证，我们还希望指的是在当前公理系统中能够推出，也就是外部可证是能够公理化证明的。
当我们说“在一个系统上可证”时，希望的意思是通过这个系统上的公理和规则能够给出证明。然而在证明语义中，可证是外部性质，并不表达能够用这个系统内的定理和规则证明。反而，可能表达能够在当前逻辑的公理系统中给出证明。

在这篇文章中，首先在$\mathbf{S4}$中加入$\text{fact checker}$公理得到$\mathbf{S4_f}$，并给出 Kripke 模型上的证明语义，然后和$\mathbf{LP}$结合，并引入混合算子，得到$\mathbf{LPS4_f}$的混合版本$\text{hybrid-}\mathbf{LPS4_f}$。然后表明$\text{hybrid-}\mathbf{LPS4_f}$是对$\text{hybrid-}\mathbf{J_T}$和$\mathbf{LPS4}$的扩展，证明了$\text{hybrid-}\mathbf{LPS4_f}$上的内化定理，并给出$\text{hybrid-}\mathbf{LPS4_f}$的模态对应以证明实现定理，继而证明在证明语义下的可靠性和完全性。最后，给出$\text{hybrid-}\mathbf{LPS4_f}$的认知语义和算数语义，并尝试在基础的$\text{hybrid-}\mathbf{JK}$上证明内化定理，以及与其模态对应之间的实现定理。





## 2.证明语义


关系模型 $\mathcal{M}=(\mathcal{G},\mathcal{R},\mathcal{V})$, 其中$\mathcal{G}$是可能世界的集合，$\mathcal{R}$是$\mathcal{G}$上的二元可通达关系，$\mathcal{V}$是从命题符号到$\mathcal{G}$子集的赋值函数。一个可能世界是一个公理系统（由语言、公理和规则定义）中所有有效公式（定理）的集合，简称为系统，命题符号是所有系统中的公式。系统$\Gamma,\Delta$具有二元通达关系$\Gamma\mathcal{R}\Delta$如果$\Gamma\subseteq\Delta$。$\mathcal{V}$将每个公式映射到一个$\mathcal{G}$的子集上，称一个赋值满足一个系统，如果系统中有效的公式（定理）在这个系统上都为真，即$\text{If }P\in \Gamma,\text{ then }\Gamma\in V(P)$。因为任意$\Gamma\subseteq\Gamma$，并且根据单调性，如果$\Gamma\vdash F, \Gamma\subseteq\Delta$，那么$\Delta\vdash F$，所以模型具有自反传递框架。注，如果不对二元关系限制$\Gamma\subseteq\Delta$条件，则不能准确表达系统间的关系，例如在自反框架中，如果$\mathcal{V}(\mathbf{S4})\mathcal{R}\mathcal{V}(\mathbf{T})$，那么在$\mathbf{S4}$上可证的只有$\mathbf{T}$的定理，而显然$\mathbf{S4}$上可证的要比$\mathbf{T}$的定理多。

$\mathcal{M},\Gamma\vDash F$的语义递归定义，如果$F$是$\neg M$那么$\Gamma$上并非$M$，如果$\Gamma$是$M\rightarrow G$那么$\Gamma$上并非$M$或者$\Gamma$上$G$。如果$F$为$\Box M$那么$\Gamma$上可证$M$，即在含有$\Gamma$的系统上有$M$。
$(1)\ \mathcal{M},\Gamma\vDash P$表达$P$在$\Gamma$中。
$(2)\ \mathcal{M},\Gamma\vDash\Box P$表达$P$在$\Gamma$中可证，即含有$\Gamma$的系统中，都有$P$。
$(3)\ \mathcal{M},\Gamma\vDash\Box P\rightarrow P$，表达在$\Gamma$上，如果$P$在$\Gamma$中可证，那么$P$在$\Gamma$中。由$T$公理$\Gamma$为任何系统都满足，即在任何系统中如果$P$在这个系统中可证，那么$P$在这个系统中。
$(4)\ \mathcal{M},\Gamma\vDash\Box F\rightarrow\Box\Box F$表达如果$F$在$\Gamma$中可证，那么$F$在含有$\Gamma$的系统中可证。
$(5)\ \mathcal{M},\Gamma\vDash\Box(\Box P\rightarrow P)$表达在$\Gamma$上可证，如果$P$在含有$\Gamma$的系统中可证，那么$P$在这个系统中。即在含有$\Gamma$的系统$\Delta$中，如果$P$在$\Delta$中可证，那么$P$在$\Delta$中。由$(3)$使用$\text{NEC}$规则立刻得到$\Gamma$为任何系统都满足，或者视为$(3)$的特殊情况。
$(6)\ \mathcal{M},\Gamma\vDash\Diamond P$表达非$P$在$\Gamma$中不可证，即存在含有$\Gamma$的系统中有$P$。如果$P$是4公理，在自反的T系统上，没有别的通达关系，那么非P的确在T中不可证，但是并不存在含有T的系统中有P。这里可能性说的是，存在这样的公理系统，尽管可能不在模型中，或者说模型应该是丰富的。例如在$\Gamma$中加入公式$P$就可能得到一个新的系统，例如在T中加入4公理，可能性表达的是相容性。$\mathcal{M},\Gamma\nvDash \Diamond F\Leftrightarrow\mathcal{M},\Gamma\vDash\Box\neg F$，即表示非$F$在$\Gamma$中可证，所以说$\Gamma$与$F$是不相容的。
$(7)$ 根据模型的定义，如果$\Gamma\mathcal{R}\Delta$，那么$\Gamma\subseteq\Delta$，也就是$\Gamma$中的定理都是含有$\Gamma$的系统中的定理。即对于任意命题符号$P$，如果$\Gamma\mathcal{R}\Delta$以及$\mathcal{M},\Gamma\vDash P$，那么$\mathcal{M},\Delta\vDash P$。所以直观上$\mathcal{M},\Gamma\vDash P\rightarrow \Box P$是必要的，即如果$P$在$\Gamma$中那么$P$在$\Gamma$中可证。然而这并不是$\mathbf{S4}$的公理，但在当前语义中应该加入这一公理。需要注意，这并不意味着$\mathcal{M},\Gamma\vDash\neg P\rightarrow \Box\neg P$。例如$\mathbf{4}$公理不在$\mathbf{T}$中，并且$\mathbf{4}$公理的否定也不在$\mathbf{T}$中可证，如若不然，$\mathbf{S4}$系统中将同时有$\mathbf{4}$公理和$\mathbf{4}$公理的否定，这是不可能的。另外这意味着，$\mathcal{M},\Gamma\vDash \neg\Box P\rightarrow\neg P$，即如果$P$在$\Gamma$上不可证，那么$P$不在$\Gamma$中。
$(8)$ 给定一个系统我们的问题是，哪些为真的公式是可证的，哪些为真的不是可证的。。从关系模型上看就是，如果$\Gamma$是$\Delta$的子系统，那么哪些$\Gamma$上成立的公式在$\Delta$上也成立。即对于任意的$\Gamma$，哪些公式$F$满足$\mathcal{M},\Gamma\vDash F\rightarrow \Box F$。根据$(7)$，$F$可以是所有$\Gamma$中的定理，也可以是这些定理的逻辑组合。$F$可以是可证的公式，即一个公式如果在$\Gamma$上可证，那么在$\Delta$上也可证，这是$\mathbf{4}$公理保证的。$F$是否可以是任何公式，即$\Gamma$上满足的公式是否都是$\Delta$上满足的公式？显然是否定的，例如记$\mathbf{T}$公理为命题符号$P_T$，则$\mathcal{M},\mathcal{V}(\mathbf{K})\vDash \Diamond P_T,\mathcal{V}(\mathbf{K})\mathcal{R}\mathcal{V}(\mathbf{GL})$，但是$\mathcal{M},\mathcal{V}(\mathbf{GL})\nvDash \Diamond P_T$。这里表达，存在含有$\mathbf{K}$的系统中有$\mathbf{T}$公理，但是不存在含有$\mathbf{GL}$的系统中有$\mathbf{T}$公理，原因是$\mathbf{Löb}$公理与$\mathbf{T}$公理不相容。直观上，一个系统不可证的公式，未必在更大的系统中不可证。总而言之，$F\rightarrow \Box F$不是证明语义的公理，这也意味着引入可证算子不是平凡的，并不会退化为命题逻辑。
$(10)$ 更进一步的，在一个公理系统上，什么是真的，什么是可证的。核心任务是，刻画一个系统上所有为真的公式。这样我们就不仅知道了这个系统自身的定理与性质，也知道了这个系统与其它系统之间的关系。
$(11)$ 因为不同系统中有不同的定理，目前只能在语义上使用框架性质推导一个系统上为真的公式，而不能用公理系统直接进行推理。当接下来引入混合算子，就能够在公理系统中给出系统中为真的公式的证明。例如如果公式$F$在$i$上为真，那么在所有系统$\Gamma$上都有$@_iF$为真，即$\mathcal{M},\Gamma\vDash @_iF$，那么$@_iF$是定理，就能够使用公理和规则给出证明。这个直观能够被$dual-back$公理$@_iF\rightarrow \Box @_iF$捕获，即如果$F$在$i$上为真，那么可以证明$F$在$i$上为真。


我们真的需要指定一个模型吗？


每个系统上都是可数多个定理，所以并不存在一个比另一个多这种说法，准确说是一个系统的定理比另一个系统更丰富。模式更多？

<!-- $\Gamma$和是极大一致集吗? 将极大一致集合作为一个可能世界-->

这里是一个例子来感受一下加入混合算子和项的意义。如果$P$在$\Gamma$中（$P$是$\Gamma$中的定理），那么对于任意公式$F$，在$\Gamma$上可证$F\rightarrow P$。
$(1)$ 在基本语言中，不能表达这个命题，只能符号化为模型上满足关系的命题，如果$\mathcal{M},\Gamma\vDash P$，那么$\mathcal{M},\Gamma\vDash\Box(F\rightarrow P)$
**Proof.** $$\begin{align*}
    &(1)\ P\rightarrow \Box P\quad Internalization\\
    &(2)\ P\rightarrow(F\rightarrow P)\quad TAUT \\
    &(3)\ \Box(P\rightarrow(F\rightarrow P))\quad 2,NEC \\
    &(4)\ \Box(P\rightarrow(F\rightarrow P))\rightarrow(\Box P\rightarrow\Box(F\rightarrow P))\quad K \\
    &(5)\ \Box P\rightarrow\Box(F\rightarrow P)\quad 3，4,MP \\
    &(6)\ (P\rightarrow \Box P)\rightarrow((\Box P\rightarrow\Box(F\rightarrow P))\rightarrow(P\rightarrow\Box(F\rightarrow P)))\quad TAUT\\
    &(7)\ (\Box P\rightarrow\Box(F\rightarrow P))\rightarrow(P\rightarrow\Box(F\rightarrow P))\quad 1,6,MP\\
    &(8)\ P\rightarrow\Box(F\rightarrow P)\quad 5,7,MP
\end{align*}$$
<!-- Since $\mathcal{M},\Gamma\vDash P$ and $\mathcal{M},\Gamma\vDash P\rightarrow\Box P$ so $\mathcal{M},\Gamma\vDash \Box P$. Since $P\rightarrow(F\rightarrow P)$ is tautology and $\text{NEC}$ so $\mathcal{M},\Gamma\vDash \Box(P\rightarrow(F\rightarrow P))$. Since $\Box(P\rightarrow(F\rightarrow P))\rightarrow(\Box P\rightarrow\Box(F\rightarrow P))$ is $\text{K}$ axiom so $\mathcal{M},\Gamma\vDash\Box(P\rightarrow(F\rightarrow P))\rightarrow(\Box P\rightarrow\Box(F\rightarrow P))$, so $\mathcal{M},\Gamma\vDash\Box P\rightarrow\Box(F\rightarrow P)$, so $\mathcal{M},\Gamma\vDash\Box(F\rightarrow P)$. -->
$(2)$ 加入混合算子丰富语言后，可以直接表达这一命题。Let $\mathcal{V}(i)=\Gamma$, We try to proof $@_iP\rightarrow @_i\Box(F\rightarrow P)$ is a theorem.
**Proof.** 
$$\begin{align*}
    &(1)\ \cdots\\
    &\ \ \vdots\qquad\ \ \  \vdots\\
    &(8)\ \cdots\\
    &(9)\ @_i(P\rightarrow\Box(F\rightarrow P))\quad @NEC\\
    &(10)\ @_i(P\rightarrow\Box(F\rightarrow P))\rightarrow(@_i P\rightarrow @_i\Box(F\rightarrow P))\quad K_@\\
    &(11)\ @_i P\rightarrow @_i\Box(F\rightarrow P)\quad 9,10,MP\\
\end{align*}$$
<!-- $$\begin{align*}
    &(1)\ P\rightarrow \Box P\quad Internalization\\
    &(2)\ @_i(P\rightarrow \Box P)\quad 1,@NEC \\
    &(3)\ @_i(P\rightarrow \Box P)\rightarrow(@_iP\rightarrow @_i\Box P)\quad K_@ \\
    &(4)\ @_iP\rightarrow @_i\Box P\quad 2,3,MP\\
    &(5)\ P\rightarrow(F\rightarrow P)\quad TAUT \\
    &(6)\ \Box(P\rightarrow(F\rightarrow P))\quad 5,NEC \\
    &(7)\ \Box(P\rightarrow(F\rightarrow P))\rightarrow(\Box P\rightarrow\Box(F\rightarrow P))\quad K \\
    &(8)\ \Box P\rightarrow\Box(F\rightarrow P)\quad 6,7,MP \\
    &(9)\ @_i(\Box P\rightarrow\Box(F\rightarrow P))\quad 8,@NEC \\
    &(10)\ @_i(\Box P\rightarrow\Box(F\rightarrow P))\rightarrow(@_i\Box P\rightarrow @_i\Box(F\rightarrow P))\quad K_@ \\
    &(11)\ @_i\Box P\rightarrow @_i\Box(F\rightarrow P)\quad 9,10,MP \\
    &(12)\ (@_iP\rightarrow @_i\Box P)\rightarrow((@_i\Box P\rightarrow @_i\Box(F\rightarrow P))\rightarrow(@_iP\rightarrow @_i\Box(F\rightarrow P)))\quad TAUT \\
    &(13)\ (@_i\Box P\rightarrow @_i\Box(F\rightarrow P))\rightarrow(@_iP\rightarrow @_i\Box(F\rightarrow P))\quad 4,12,MP\\
    &(14)\ @_iP\rightarrow @_i\Box(F\rightarrow P)\quad 11,13,MP
\end{align*}$$ -->
<!-- Thus $@_iP\vdash @_i\Box(F\rightarrow P)$ by deduction theorem.  -->
$(3)$ 加入项后，能够给出具体的证明。$@_iP\rightarrow @_i(c\cdot f_i):(F\rightarrow P)$ where $c:(P\rightarrow(F\rightarrow P)),f_i:P$.
**Proof.** 
$$\begin{align*}
    &(1)\ @_iP\rightarrow @_i f_i:P\quad \text{close fact checker} \\
    &(2)\ P\rightarrow(F\rightarrow P)\quad TAUT\\
    &(3)\ c:(P\rightarrow(F\rightarrow P))\quad 2,\text{Iterated axiom necessitation}\\
    &(4)\ c:(P\rightarrow(F\rightarrow P))\rightarrow(f_i:P\rightarrow(c\cdot f_i):(F\rightarrow P))\quad application\\
    &(5)\ f_i:P\rightarrow(c\cdot f_i):(F\rightarrow P)\quad 3,4,MP\\
    &(6)\ @_i(f_i:P\rightarrow(c\cdot f_i):(F\rightarrow P))\quad @NEC\\
    &(7)\ @_i(f_i:P\rightarrow(c\cdot f_i):(F\rightarrow P))\rightarrow(@_i f_i:P\rightarrow @_i(c\cdot f_i):(F\rightarrow P))\quad K_@\\
    &(8)\ @_i f_i:P\rightarrow @_i(c\cdot f_i):(F\rightarrow P)\quad 6,7,MP\\
    &(9)\ (@_iP\rightarrow @_i f_i:P)\rightarrow\\
    &\qquad ((@_i f_i:P\rightarrow @_i(c\cdot f_i):(F\rightarrow P))\rightarrow(@_iP\rightarrow @_i(c\cdot f_i):(F\rightarrow P)))\quad TAUT\\
    &(10)\ (@_i f_i:P\rightarrow @_i(c\cdot f_i):(F\rightarrow P))\rightarrow(@_iP\rightarrow @_i(c\cdot f_i):(F\rightarrow P))\quad 1,9,MP\\
    &(11)\ @_iP\rightarrow @_i(c\cdot f_i):(F\rightarrow P)\quad 8,10,MP
\end{align*}$$
一个外部证明的例子。如果$P$在$\Gamma$中，那么对于任意公式$F$，可证$F\rightarrow P$在$\Gamma$上为真。Let $\mathcal{V}(i)=\Gamma$, we try to proof $@_iP\rightarrow\Box @_i(F\rightarrow P)$ is a theorem. 由$dual-back$公理易证。现在用项给出具体的证明。$@_iP\rightarrow(d\cdot c\cdot f_i):@_i(F\rightarrow P)$ where $d:(@_i(P\rightarrow(F\rightarrow P))\rightarrow(@_iP\rightarrow @_i(F\rightarrow P))), c:@_i(P\rightarrow(F\rightarrow P)), f_i:@_iP$.
**Proof.**
$$\begin{align*}
    &(1)\ @_iP\rightarrow f_i:@_iP\quad \text{remote fact checker}\\
    &(2)\ P\rightarrow(F\rightarrow P)\quad TAUT\\
    &(3)\ @_i(P\rightarrow(F\rightarrow P))\quad @NEC\\
    &(4)\ c:@_i(P\rightarrow(F\rightarrow P))\quad 3,\text{Iterated remote axiom necessitation}\\
    &(5)\ @_i(P\rightarrow(F\rightarrow P))\rightarrow(@_iP\rightarrow @_i(F\rightarrow P))\quad K_@\\
    &(6)\ d:(@_i(P\rightarrow(F\rightarrow P))\rightarrow(@_iP\rightarrow @_i(F\rightarrow P)))\quad 5,\text{Iterated axiom necessitation}\\
    &(7)\ d:(@_i(P\rightarrow(F\rightarrow P))\rightarrow(@_iP\rightarrow @_i(F\rightarrow P)))\rightarrow\\
    &\qquad (c:@_i(P\rightarrow(F\rightarrow P))\rightarrow(d\cdot c):(@_iP\rightarrow @_i(F\rightarrow P)))\quad application\\
    &(8)\ c:@_i(P\rightarrow(F\rightarrow P))\rightarrow(d\cdot c):(@_iP\rightarrow @_i(F\rightarrow P))\quad 6,7,MP\\
    &(9)\ (d\cdot c):(@_iP\rightarrow @_i(F\rightarrow P))\quad 4,8,MP\\
    &(10)\ (d\cdot c):(@_iP\rightarrow @_i(F\rightarrow P))\rightarrow\\
    &\qquad (f_i:@_iP\rightarrow(d\cdot c\cdot f_i):@_i(F\rightarrow P))\quad application\\
    &(11)\ f_i:@_iP\rightarrow(d\cdot c\cdot f_i):@_i(F\rightarrow P)\quad 9,10,MP\\
    &(12)\ (@_iP\rightarrow f_i:@_iP)\rightarrow\\
    &\qquad ((f_i:@_iP\rightarrow(d\cdot c\cdot f_i):@_i(F\rightarrow P))\rightarrow(@_iP\rightarrow(d\cdot c\cdot f_i):@_i(F\rightarrow P)))\quad TAUT\\
    &(13)\ (f_i:@_iP\rightarrow(d\cdot c\cdot f_i):@_i(F\rightarrow P))\rightarrow(@_iP\rightarrow(d\cdot c\cdot f_i):@_i(F\rightarrow P))\quad 1,12,MP\\
    &(14)\ @_iP\rightarrow(d\cdot c\cdot f_i):@_i(F\rightarrow P)\quad 11,13,MP
\end{align*}$$


含有下层逻辑的例子
$$\begin{align*}
    P::=p\ |\ \hat{\neg} P\ |\ P\hat{\rightarrow} P\ |\ \hat{\Box} P\\
\end{align*}$$
如果下层公式$P$在$\Gamma$中，那么对于任意的下层公式$Q$，可证$Q\hat{\rightarrow}P$在$\Gamma$中。Let $\mathcal{V}(i)=\Gamma$, we try to proof $@_iP\rightarrow \Box @_i(Q\hat{\rightarrow} P)$ is a theorem.
**Proof.**
$$\begin{align*}
    &(1)\ @_iP\rightarrow\Box @_iP\quad dual-back\\
    &(2)\ P\hat{\rightarrow}(Q\hat{\rightarrow} P)\quad TAUT\\
    &(3)\ @_iP\rightarrow @_i(Q\hat{\rightarrow} P)\quad \\
\end{align*}$$